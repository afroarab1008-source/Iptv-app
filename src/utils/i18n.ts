const translations: Record<string, Record<string, string>> = {
  en: {
    'app.title': 'IPTV App',
    'nav.home': 'Home',
    'nav.playlists': 'Playlists',
    'nav.epg': 'EPG',
    'nav.favorites': 'Favorites',
    'nav.recent': 'Recent',
    'nav.history': 'History',
    'nav.settings': 'Settings',
    'home.selectChannel': 'Select a channel to start watching',
    'home.channelsLoaded': '{count} channels loaded',
    'home.loadPlaylist': 'Load a playlist to get started',
    'favorites.empty': 'No favorite channels yet',
    'favorites.hint': 'Add channels to favorites to access them quickly',
    'recent.empty': 'No recent channels',
    'recent.hint': 'Recently watched channels will appear here',
    'history.empty': 'No watch history',
    'history.hint': 'Your viewing history will appear here',
    'history.clear': 'Clear History',
    'history.watchedFor': 'Watched for {duration}',
    'player.noChannel': 'No Channel Selected',
    'player.selectHint': 'Select a channel from the list to start watching',
    'player.retry': 'Retry',
    'player.tryPlay': 'Try Play',
    'player.sleepTimer': 'Sleep Timer',
    'player.sleepOff': 'Off',
    'player.sleepIn': 'Sleep in {time}',
    'player.streamInfo': 'Stream Info',
    'player.resolution': 'Resolution',
    'player.bitrate': 'Bitrate',
    'player.codec': 'Codec',
    'player.audioOnly': 'Audio Only',
    'player.subtitles': 'Subtitles',
    'player.subsOff': 'Off',
    'player.subsTrack': 'Track {n}',
    'settings.theme': 'Theme',
    'settings.accentColor': 'Accent Color',
    'settings.channelSort': 'Channel Sorting',
    'settings.videoQuality': 'Video Quality',
    'settings.viewMode': 'View Mode',
    'settings.tvMode': 'TV Mode',
    'settings.tvModeActive': 'TV Mode Active (click to disable)',
    'settings.tvModeEnable': 'Enable TV Mode',
    'settings.tvModeHint': 'Larger text and controls for TVs / 10-foot viewing',
    'settings.language': 'Language',
    'settings.parentalControls': 'Parental Controls',
    'settings.backup': 'Backup & Restore',
    'settings.export': 'Export',
    'settings.import': 'Import',
    'settings.playlistAutoUpdate': 'Playlist Auto-Update',
    'settings.autoUpdateHint': 'Re-fetch URL playlists periodically',
    'settings.updateEvery': 'Update every',
    'sort.default': 'Default (playlist order)',
    'sort.nameAsc': 'Name A-Z',
    'sort.nameDesc': 'Name Z-A',
    'sort.group': 'Group',
    'playlist.add': 'Add Playlist',
    'playlist.saved': 'Saved Playlists',
    'playlist.empty': 'No saved playlists',
    'playlist.emptyHint': 'Add a playlist to get started',
    'epg.active': 'EPG Active',
    'epg.noData': 'No EPG Loaded',
    'epg.grabbing': 'Grabbing EPG data...',
    'epg.selectSource': 'Select a source to grab EPG data',
    'shortcuts.title': 'Keyboard Shortcuts',
    'shortcuts.playPause': 'Play / Pause',
    'shortcuts.fullscreen': 'Toggle Fullscreen',
    'shortcuts.escape': 'Exit Fullscreen / Close Player',
    'shortcuts.mute': 'Mute / Unmute',
    'shortcuts.volUp': 'Volume Up',
    'shortcuts.volDown': 'Volume Down',
    'shortcuts.seekFwd': 'Seek Forward 10s',
    'shortcuts.seekBack': 'Seek Back 10s',
    'shortcuts.nextCh': 'Next Channel',
    'shortcuts.prevCh': 'Previous Channel',
    'shortcuts.pip': 'Picture-in-Picture',
    'shortcuts.showHelp': 'Show / Hide Shortcuts',
    'shortcuts.channelNum': 'Jump to Channel #',
  },
  de: {
    'app.title': 'IPTV App',
    'nav.home': 'Start',
    'nav.playlists': 'Playlisten',
    'nav.epg': 'EPG',
    'nav.favorites': 'Favoriten',
    'nav.recent': 'Zuletzt',
    'nav.history': 'Verlauf',
    'nav.settings': 'Einstellungen',
    'home.selectChannel': 'Wähle einen Kanal zum Ansehen',
    'home.channelsLoaded': '{count} Kanäle geladen',
    'home.loadPlaylist': 'Lade eine Playlist um zu starten',
    'favorites.empty': 'Keine Favoriten',
    'favorites.hint': 'Füge Kanäle zu Favoriten hinzu',
    'recent.empty': 'Keine zuletzt gesehenen Kanäle',
    'recent.hint': 'Zuletzt gesehene Kanäle erscheinen hier',
    'history.empty': 'Kein Wiedergabeverlauf',
    'history.hint': 'Dein Wiedergabeverlauf erscheint hier',
    'history.clear': 'Verlauf löschen',
    'history.watchedFor': '{duration} angesehen',
    'player.noChannel': 'Kein Kanal ausgewählt',
    'player.selectHint': 'Wähle einen Kanal aus der Liste',
    'player.retry': 'Erneut versuchen',
    'player.tryPlay': 'Abspielen',
    'player.sleepTimer': 'Schlaf-Timer',
    'player.sleepOff': 'Aus',
    'player.sleepIn': 'Schlaf in {time}',
    'player.streamInfo': 'Stream-Info',
    'player.resolution': 'Auflösung',
    'player.bitrate': 'Bitrate',
    'player.codec': 'Codec',
    'player.audioOnly': 'Nur Audio',
    'player.subtitles': 'Untertitel',
    'player.subsOff': 'Aus',
    'player.subsTrack': 'Spur {n}',
    'settings.theme': 'Design',
    'settings.accentColor': 'Akzentfarbe',
    'settings.channelSort': 'Kanalsortierung',
    'settings.videoQuality': 'Videoqualität',
    'settings.viewMode': 'Ansichtsmodus',
    'settings.tvMode': 'TV-Modus',
    'settings.tvModeActive': 'TV-Modus aktiv (klicken zum Deaktivieren)',
    'settings.tvModeEnable': 'TV-Modus aktivieren',
    'settings.tvModeHint': 'Größere Schrift für TV / 10-Fuß-Ansicht',
    'settings.language': 'Sprache',
    'settings.parentalControls': 'Jugendschutz',
    'settings.backup': 'Sichern & Wiederherstellen',
    'settings.export': 'Exportieren',
    'settings.import': 'Importieren',
    'settings.playlistAutoUpdate': 'Playlist Auto-Update',
    'settings.autoUpdateHint': 'URL-Playlisten regelmäßig aktualisieren',
    'settings.updateEvery': 'Aktualisieren alle',
    'sort.default': 'Standard (Playlist-Reihenfolge)',
    'sort.nameAsc': 'Name A-Z',
    'sort.nameDesc': 'Name Z-A',
    'sort.group': 'Gruppe',
    'playlist.add': 'Playlist hinzufügen',
    'playlist.saved': 'Gespeicherte Playlisten',
    'playlist.empty': 'Keine gespeicherten Playlisten',
    'playlist.emptyHint': 'Füge eine Playlist hinzu',
    'epg.active': 'EPG aktiv',
    'epg.noData': 'Kein EPG geladen',
    'epg.grabbing': 'EPG-Daten werden geladen...',
    'epg.selectSource': 'Quelle wählen für EPG-Daten',
    'shortcuts.title': 'Tastenkürzel',
    'shortcuts.playPause': 'Wiedergabe / Pause',
    'shortcuts.fullscreen': 'Vollbild umschalten',
    'shortcuts.escape': 'Vollbild verlassen / Player schließen',
    'shortcuts.mute': 'Stumm / Laut',
    'shortcuts.volUp': 'Lauter',
    'shortcuts.volDown': 'Leiser',
    'shortcuts.seekFwd': '10s vorspulen',
    'shortcuts.seekBack': '10s zurückspulen',
    'shortcuts.nextCh': 'Nächster Kanal',
    'shortcuts.prevCh': 'Vorheriger Kanal',
    'shortcuts.pip': 'Bild-in-Bild',
    'shortcuts.showHelp': 'Hilfe anzeigen / ausblenden',
    'shortcuts.channelNum': 'Zu Kanal # springen',
  },
  fr: {
    'app.title': 'IPTV App',
    'nav.home': 'Accueil',
    'nav.playlists': 'Playlists',
    'nav.epg': 'EPG',
    'nav.favorites': 'Favoris',
    'nav.recent': 'Récents',
    'nav.history': 'Historique',
    'nav.settings': 'Paramètres',
    'home.selectChannel': 'Sélectionnez une chaîne',
    'home.channelsLoaded': '{count} chaînes chargées',
    'home.loadPlaylist': 'Chargez une playlist pour commencer',
    'favorites.empty': 'Pas de favoris',
    'favorites.hint': 'Ajoutez des chaînes aux favoris',
    'recent.empty': 'Pas de chaînes récentes',
    'recent.hint': 'Les chaînes vues récemment apparaîtront ici',
    'history.empty': "Pas d'historique",
    'history.hint': 'Votre historique de visionnage apparaîtra ici',
    'history.clear': "Effacer l'historique",
    'history.watchedFor': 'Regardé {duration}',
    'player.noChannel': 'Aucune chaîne sélectionnée',
    'player.selectHint': 'Sélectionnez une chaîne dans la liste',
    'player.retry': 'Réessayer',
    'player.tryPlay': 'Lire',
    'player.sleepTimer': 'Minuterie',
    'player.sleepOff': 'Désactivée',
    'player.sleepIn': 'Arrêt dans {time}',
    'player.streamInfo': 'Info flux',
    'player.resolution': 'Résolution',
    'player.bitrate': 'Débit',
    'player.codec': 'Codec',
    'player.audioOnly': 'Audio seul',
    'player.subtitles': 'Sous-titres',
    'player.subsOff': 'Désactivés',
    'player.subsTrack': 'Piste {n}',
    'settings.theme': 'Thème',
    'settings.accentColor': "Couleur d'accent",
    'settings.channelSort': 'Tri des chaînes',
    'settings.videoQuality': 'Qualité vidéo',
    'settings.viewMode': "Mode d'affichage",
    'settings.tvMode': 'Mode TV',
    'settings.language': 'Langue',
    'settings.parentalControls': 'Contrôle parental',
    'settings.backup': 'Sauvegarde & Restauration',
    'settings.export': 'Exporter',
    'settings.import': 'Importer',
    'settings.playlistAutoUpdate': 'Mise à jour auto',
    'settings.autoUpdateHint': 'Actualiser les playlists URL périodiquement',
    'settings.updateEvery': 'Actualiser toutes les',
    'shortcuts.title': 'Raccourcis clavier',
    'shortcuts.channelNum': 'Aller à la chaîne #',
  },
  es: {
    'app.title': 'IPTV App',
    'nav.home': 'Inicio',
    'nav.playlists': 'Listas',
    'nav.epg': 'EPG',
    'nav.favorites': 'Favoritos',
    'nav.recent': 'Recientes',
    'nav.history': 'Historial',
    'nav.settings': 'Ajustes',
    'home.selectChannel': 'Selecciona un canal para empezar',
    'home.channelsLoaded': '{count} canales cargados',
    'home.loadPlaylist': 'Carga una lista para empezar',
    'favorites.empty': 'Sin favoritos',
    'recent.empty': 'Sin canales recientes',
    'history.empty': 'Sin historial',
    'history.clear': 'Borrar historial',
    'player.noChannel': 'Ningún canal seleccionado',
    'player.sleepTimer': 'Temporizador',
    'player.streamInfo': 'Info de flujo',
    'player.audioOnly': 'Solo audio',
    'player.subtitles': 'Subtítulos',
    'settings.theme': 'Tema',
    'settings.language': 'Idioma',
    'settings.backup': 'Respaldo y Restauración',
    'shortcuts.title': 'Atajos de teclado',
    'shortcuts.channelNum': 'Ir al canal #',
  },
  tr: {
    'app.title': 'IPTV Uygulama',
    'nav.home': 'Ana Sayfa',
    'nav.playlists': 'Listeler',
    'nav.epg': 'EPG',
    'nav.favorites': 'Favoriler',
    'nav.recent': 'Son İzlenen',
    'nav.history': 'Geçmiş',
    'nav.settings': 'Ayarlar',
    'home.selectChannel': 'İzlemek için bir kanal seçin',
    'player.noChannel': 'Kanal seçilmedi',
    'player.sleepTimer': 'Uyku Zamanlayıcı',
    'settings.theme': 'Tema',
    'settings.language': 'Dil',
    'shortcuts.title': 'Klavye Kısayolları',
    'shortcuts.channelNum': 'Kanal numarasına git',
  },
  ar: {
    'app.title': 'تطبيق IPTV',
    'nav.home': 'الرئيسية',
    'nav.playlists': 'قوائم التشغيل',
    'nav.epg': 'EPG',
    'nav.favorites': 'المفضلة',
    'nav.recent': 'الأخيرة',
    'nav.history': 'السجل',
    'nav.settings': 'الإعدادات',
    'home.selectChannel': 'اختر قناة للمشاهدة',
    'player.noChannel': 'لم يتم اختيار قناة',
    'player.sleepTimer': 'مؤقت النوم',
    'settings.theme': 'المظهر',
    'settings.language': 'اللغة',
    'shortcuts.title': 'اختصارات لوحة المفاتيح',
  },
  pt: {
    'app.title': 'IPTV App',
    'nav.home': 'Início',
    'nav.playlists': 'Playlists',
    'nav.epg': 'EPG',
    'nav.favorites': 'Favoritos',
    'nav.recent': 'Recentes',
    'nav.history': 'Histórico',
    'nav.settings': 'Configurações',
    'home.selectChannel': 'Selecione um canal para assistir',
    'player.noChannel': 'Nenhum canal selecionado',
    'player.sleepTimer': 'Timer de Sono',
    'settings.theme': 'Tema',
    'settings.language': 'Idioma',
    'shortcuts.title': 'Atalhos do teclado',
    'shortcuts.channelNum': 'Ir para canal #',
  },
};

export const LANGUAGES = [
  { code: 'en', name: 'English' },
  { code: 'de', name: 'Deutsch' },
  { code: 'fr', name: 'Français' },
  { code: 'es', name: 'Español' },
  { code: 'pt', name: 'Português' },
  { code: 'tr', name: 'Türkçe' },
  { code: 'ar', name: 'العربية' },
];

let currentLang = 'en';

export function setLanguage(lang: string) {
  currentLang = lang;
}

export function t(key: string, params?: Record<string, string | number>): string {
  let text = translations[currentLang]?.[key] || translations.en[key] || key;
  if (params) {
    for (const [k, v] of Object.entries(params)) {
      text = text.replace(`{${k}}`, String(v));
    }
  }
  return text;
}

export function getLanguage(): string {
  return currentLang;
}
